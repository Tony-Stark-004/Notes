{
	"nodes":[
		{"id":"75f2ab8aa55953f1","x":-160,"y":-340,"width":1040,"height":60,"color":"3","type":"text","text":"# SSH Welcome Banner, Disable Root Login & Change Default Port in Linux"},
		{"id":"f0e309d319b543e4","x":-320,"y":-260,"width":1020,"height":640,"type":"text","text":"# Pre SSH Welcome Banner\nWe need to add path of our pre welcome banner content file inside the `/etc/ssh/sshd_config` file. as `Banner /conent-file-path`\n\n```\n1. cd /etc/ssh\n2. ls\n\n👉👉 You will see sshd_config file inside /etc/ssh here all ssh related configuration is present and in this \nfile we need to add the path of our content file\n\n3. vim banner.txt\n👉👉 content is: This is pre ssh welcome content\nIt is recommend to make banner file inside /etc/ssh directory although you can make anywhere just need to give entire path inside sshd_config\n\n4 vim sshd_config\n👉👉 uncomment the 👾👾👾 Banner none 👾👾👾 and modify it like \n🐸🐸🐸🐸🐸🐸 Banner /etc/ssh/banner.txt \n\n5. systemctl restart sshd\n\n6. ssh username@IPaddress\n👉👉 It will promt you content is: This is pre ssh welcome content before password\n```"},
		{"id":"d5783e8bbc545cb4","type":"text","text":"# How to disable root-user login via SSH\nIt is best practice to disable root user login via ssh because if you login with root user then you won't able to identify which user uses the root-user account and did ssh so we disable it and user login with local account and then changes to root using `su - root`\n\n```\n1. vim /etc/ssh/sshd_config\n👉👉 You will see 👾👾👾👾 PermitRootLogin yes 👾👾👾👾 do no to it\n🐸🐸🐸🐸🐸  PermitRootLogin no 🐸🐸🐸🐸🐸\n\n2. systemctl restart sshd\n\n3. ssh root@localhost\n👉👉 it will say permission denied\n```","x":720,"y":-260,"width":1020,"height":400},
		{"id":"ede06e873fbb3e36","type":"text","text":"# After SSH Welcome Banner\nFor after ssh welcome banner you don't need to set path just open the `etc/motd` directory in `vi-editor` and write the conent\n \n```\n1. vim /etc/motd\n👉👉 write content is: This is after ssh welcome content before password\n\n2. ssh username@IPaddress\n👉👉 It will promt you content is: This is after ssh welcome content after password and successfully ssh\n```","x":-320,"y":400,"width":1020,"height":300},
		{"id":"f964fc55faed30f6","type":"text","text":"# How to change SSH default port\nThe default port for `ssh` is 22\n\n```\n1. vim /etc/ssh/sshd_config\n👉👉 You will see 👾👾👾👾 Port 22 👾👾👾👾 change 22 and define your custom port\n🐸🐸🐸🐸🐸  Port 5152 🐸🐸🐸🐸🐸\n\n---- only changing port on file sshd_config won't help. Need to update in firewall settings also SE-Linux ----\n\n2. firewall-cmd --list-all\n👉👉 Watching firwall settings. 👇👇 you will ssh service is enabled but need to assign our custom port on ports attribute \n\n```\n\n![[Pasted image 20250209160840.png]]\n\n```\n3. firewall-cmd --permanent --add-port=5152/tcp\n👉👉 Changing firewall settings file and assigning custom ssh port\n\n4. firewall-cmd --reload\n\n5. firewall-cmd --list-all\n👉👉 It will list the settings and having ports: 5152/tcp \n```\n\n```\nNow, we need to change SE-linux because SE-linux is running in enforcing mode so we need to make change in SE-linux as well then we good to go\n\n1. getenforce\n👉👉 output is: Enforcing which mean it is running on enforcing mode\n\n2. semanage port -l | grep ssh\n👉👉 semanage is very powerfull command used to list SE-Linux settings and also can modify the settings using this\n```\n\n![[Pasted image 20250209161840.png]]\n\n```\n3. cat /etc/ssh/sshd_config | grep semanage\n👉👉 This will give you the command that how to change port inside SE-Linux settings\n```\n\n![[Pasted image 20250209162149.png]]\n\n```\n4. semanage port -a -t ssh_port_t -p 5152\n\n👉👉 here -a meaning add\n👉👉 -t meaning type\n\n5. semanage port -l | grep ssh\n```\n\n![[Pasted image 20250209162902.png]]\n\n```\n6. systemctl restart sshd\n\n------- Now you can ssh with different port than 22 -----------\n\n7. ssh root@localhost -p 5152\n```","x":720,"y":150,"width":1040,"height":2190,"color":"3"}
	],
	"edges":[]
}