{
	"nodes":[
		{"id":"6e5d25a6780f346e","type":"text","text":"# NIC Teaming | Link Aggregation | Network Bonding\nNIC teaming is the concept where we combine two or more than two NIC (Network interface controller) or network adaptors and then use it for purpose\nWe can use it as\n* Round robin\n* Broadcast\n* Load balancer\n* Active-backup\n\n##### `Teamd`\nThis is the NIC teaming daemon that uses the libteam library to communicate with device via the kernel\n\n#### `Teamctl`\nThis is utility that allow users to control an instance to `teamd`. \n\n#### `runner`\nThese are units of code written in JSON and are used for the implementation of various NIC.\nExample of Runners mode include :\n1. Round Robin\n2. Load Balancing \n3. Broadcast\n4. Active backup\n\n#### Installing package\n1. `rpm -qi teamd`","x":-600,"y":-600,"width":800,"height":880},
		{"id":"ff58f7681b6108f9","type":"text","text":"### Checking whether `teamd` package is installed or not\n```\n1. rpm -qa | grep teamd\n```\n\n```\n1. nmcli dev status\nðŸ‘‰ðŸ‘‰ðŸ‘‰ Show you the status of network device\n\n1. nmcli connection show\nðŸ‘‰ðŸ‘‰ðŸ‘‰ Show you connected network controller device\n```\n\n# Making NIC Teaming\n\n```\n1. step 1 --> make sure to have NIC attach to your system\n```\n\n![[Pasted image 20250208124423.png]]\n\n```\n2. nmcli dev status\nðŸ‘‡ðŸ‘‡ðŸ‘‡ Here red colored device is freshly added device \n```\n\n![[Pasted image 20250208124511.png]]\n\n```\n3. cd /etc/sysconfig/network-scripts\n4. ls\nðŸ‘‡ðŸ‘‡ðŸ‘‡ You will see only one connection files\n```\n\n![[Pasted image 20250208125129.png]]\n\n```\n5. Let's add three connection\n\t1. team connection\n\t2. two connection for connection team connection with NIC\n```\n\n```\n6. nmcli connection add type team con-name team0 ifname team0 config '{\"runner\": {\"name\": \"activebackup\"}}' \n\nlet's understand the command\n\t1. nmcli connection add ---> meaning adding the connection\n\t2. type team ---> meaning which type of connection it is like: team or ethernet\n\t3. con-name team0 ---> connection name give any i gave team0\n\t4. ifname team0 ---> interface name\n\t5. config '{\"runner\": {\"name\": \"activebackup\"}}' ---> setting runner\n```\n\n```\n7. cd /etc/sysconfig/network-scripts\n8. ls\nðŸ‘‡ðŸ‘‡ðŸ‘‡ You will see newly added interface team0\n```\n\n![[Pasted image 20250208130900.png]]\n\n```\n9. nmcli connection show\nðŸ‘‡ðŸ‘‡ðŸ‘‡ you will see newly added connection\n```\n\n![[Pasted image 20250208131019.png]]\n\n```\n10. let's add IP-address to connection team0\n11. nmcli connection modify team0 ipv4.addresses 192.168.227.140/24 ipv4.dns 8.8.8.8 connection.autoconnect yes ipv4.method manual\n\nNOTE --> because on adding physical network adaptor we chose NAT so we need to assgin the only IP range which our vitrual machine assigned\n\nIf we used bridged network adaptor then we need to give the IP range of our home network network-range meaning router IP-range\n\nalso ipv4.method manual is used because we are assigining static IP\n```\n\n```\n12. cat ifcfg-team0\nðŸ‘‰ðŸ‘‰ðŸ‘‰ Shows the complete information about team0 connection\n```\n\n```\n13. Now let's connect both NIC that we added to connection team0\n\n14. nmcli connection add type team-slave con-name team0-port1 ifname ens224 master team0\n\nLet's understand it\n\t1. type team-slave ---> meaning this connection is slave connection\n\t2. con-name team0-port1 ---> meaning connection name\n\t3. ifname ens224 ---> Is the iterface name and ens224 is the network adaptor one of \n\t   two that we added\n\t4. master team0 ---> meaning who is is master connection for slave-connection \n\t   team0-port1 which is team0\n\t   \n\nNote --> team0 is master team connection which is virtual connection and 2 slave connection in our case attached to it and runner:activebackup works on master slave connection keep in mind\n```\n\n```\n15. nmcli connection add type team-slave con-name team0-port2 ifname ens256 master team0\nðŸ‘‰ðŸ‘‰ðŸ‘‰ adding 2nd slave connection \n\n16. cd /etc/sysconfig/network-scripts\n17. ls\nðŸ‘‡ðŸ‘‡ðŸ‘‡ You will see newly added interface\n```\n\n![[Pasted image 20250208134058.png]]\n\n```\n1. cat ifcfg-team0-port2\n```\n\n![[Pasted image 20250208134143.png]]\n```\nHere clearly shows the TEAM_MASTER=team0\n```","x":220,"y":-600,"width":820,"height":3640,"color":"3"},
		{"id":"b64916bb227078a4","type":"text","text":"# Configure NIC Teaming (Link Aggregation)/Network Bonding in Linux","x":-340,"y":-680,"width":1020,"height":60,"color":"3"},
		{"id":"e7c9e8aacb4d1fcb","x":1080,"y":-600,"width":840,"height":1660,"type":"text","text":"##### Now we added connection successfully \n```\n1. nmcli dev status\n```\n\n![[Pasted image 20250208134335.png]]\n\n```\n2. nmcli connection reload\nðŸ‘‰ðŸ‘‰ðŸ‘‰ reloading connection because we added 3 new connections\n```\n\n```\n-------------- Now up the all added connections --------------------\n1. nmcli connection up team0\n2. nmcli connection up team0-port1\n3. nmcli connection up team0-port2\n\nNow run \n4. ip a\nðŸ‘‰ðŸ‘‰ðŸ‘‰ You will see the assigned IP which is 192.168.227.140/24\n```\n\n#### Now, \n\n```\n1. teamdctl team0 state\nðŸ‘‰ðŸ‘‰ðŸ‘‰ It will show you the team0 status \n```\n\n![[Pasted image 20250208135229.png]]\n\n```\n2. ping 192.168.227.140\n\nðŸ‘‰ðŸ‘‰ it will ping because both salve connection is up and running\n```\n\n```\n3. nmcli connection down team0-port1\n\t1. ping 192.168.227.140\n\nðŸ‘‰ðŸ‘‰ðŸ‘‰ It will work because salve team0-port1 connection is up \n\n4. Now if we down both salve connection then it stopped giving ping response\n```"}
	],
	"edges":[]
}