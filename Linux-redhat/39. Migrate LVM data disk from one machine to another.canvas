{
	"nodes":[
		{"id":"cc3142523ef21321","x":-240,"y":-340,"width":440,"height":60,"color":"3","type":"text","text":"Migrate LVM data disk from one machine to another"},
		{"id":"c8c6def4ea2d4244","x":-489,"y":-246,"width":929,"height":1546,"color":"1","type":"text","text":"***How to migrate LVM data from one machine to another machine***\n\n* at machine one\n\n1. suppose we created `physical volume`, `volume group` and `lvm` \n\t1. `pvcreate /dev/sda1`\n\t2. `vgcreate machineOneVG /dev/sda1`\n\t3. `lvcreate -l 1000 -n machineOneLVM machineOneVG`\n\t4. `mkfs.ext4 /dev/machineOneVG/machineOneLVM`\n\t5. `mount /dev/machineOneVG/machineOneLVM /data_dir`\n\t6. `we created data into /data_dir`\n2. Now to migrate it please `unmount` LVM\n\t1. `umount /data_dir`\n\t2. `df -hT` check whether it is unmounted or not\n3. de-activate volume group\n\t1. `vgchange -an machineOneVG`\n\t2. `lvscan` or `lvs` both command show whether it is `de-activated or not`\n4. `vgexport machineOneVG`\n5. `lvscan` or `lvs` you will see there is not `volume group` with name `machineOneVG`\n6. However if you run `vgs` it will show `volume group` with name `machineOneVG` but it is in `de-active` state\n7. `init 0` most important power-off the system\n8. Now `copy the path of disk where your disk is located because every disk in Linux is file`\n\t1. it is like that `c:\\Users\\shaha\\Documents\\Virtual Machines\\RHEL 8.4\\REHL 8.4.vmdk`\n\t2. not exactly this path but it look like this\n\n***\n\n* at machine two\n\n1. `add hard-disk on machine as we add` \n\t1. `choose same type of disk if machineOne disk is SCSI then choose SCSI` and then click next \n\t2. then choose option which say Use an `existing virtual disk` and click next \n\t3. and then paste the path of disk that we copied  suppose path is `c:\\Users\\shaha\\Documents\\Virtual Machines\\RHEL 8.4\\REHL 8.4.vmdk`\n2. `power on the machine`\n3. `press f2 to go to BIOS setting`\n4. `select Boot option`\n\t1. select `hard-drive option inside Boot option`\n\t2. `change the priority of disk. Make main disk priority. because when you added the copied disk from machineOne it becomes the priority disk but before added the machineOne disk the priority disk was different so make that disk as priority disk`\n5. `press f10 to save changes`\n6. `reboot machine`\n7. `after rebooting` run \n8. `lsblk` it will show you the `machineOne /dev/sda1` disk\n9. `pvscan` shows all `physical volume` here it shows `exported physical volume` we need to import `volume gorup` because we `exported` from `machineOne`\n10. `vgimport volume_group_name`\n\t1. `vgimport machineOneVG`\n11. `before copied the path we de-activated the disk in machineOne` so we need to `activate` it here\n12. `vgchange -ay machineOneVG`\n13. `lvs` you can see it is in active state and ready to use\n14. `mount /dev/machineOneVG/machineOneLVM /mount_dir`\n15. `df -hT` to check mounting\n16. `cd /mount_dir`\n17. `ll` you will see the all data"}
	],
	"edges":[]
}